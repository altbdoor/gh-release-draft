# gh-release-draft

A highly opinionated way of creating/updating GitHub release.

Primarily handles the tagging and the release notes.

> [!NOTE]
> This Python script will always create or update a **draft** release note. Its up to the human to publish the release.

## Assumptions

- The release tag and the GitHub release name is the same
  - E.g., `v2.100.0` or `1.99.7`
- The release tag follows the [semver](https://semver.org/) pattern
- The release note is always generated by GitHub
- Can be run with current MacOS' provided Python, which is 3.9.x

## Usage

1. Please ensure you have either:
   1. Declared `GH_TOKEN` environment variable, or
   1. Installed [GitHub CLI](https://cli.github.com/), where we will pull the token via `gh auth token`

1. If you are using [uv](https://docs.astral.sh/uv/) (which I strongly recommend), just run `uv run draft.py --repo owner/repo_name`

1. If you are not using uv, it is recommended to create a new virtual environment:

   ```console
   $ # create a new venv
   $ python3 -m venv .venv

   $ # activate the venv
   $ source .venv/bin/activate

   $ # install the dependencies
   $ pip install -r requirements.txt

   $ # run the script with the repo arg
   $ python draft.py --repo owner/repo_name
   ```
